webpackJsonp([1],{"9e+h":function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("7+uW"),r=o("zL8q"),l=o.n(r),n=(o("tvR6"),o("ZsCP"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var i=o("VU/8")({name:"App"},n,!1,function(e){o("cLqF")},null,null).exports,s=o("/ocq"),d={name:"Login",data:function(){var e=this;return{loginForm:{username:"admin",pwd:"123456"},regForm:{username:"",pwd:"",confirmpwd:""},activeName:"first",rules:{username:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],confirmpwd:[{validator:function(t,o,a){""===o?a(new Error("请再次输入密码")):o!==e.regForm.pwd?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]}}},methods:{handleClick:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(o){if(!o)return console.log("error submit!!"),!1;var a=t;"loginForm"===e?t.$http.post("api/login",t.loginForm).then(function(e){console.log(e),e.data.success?(a.$store.commit("login",e.data.data),a.$router.push("/Member/User")):a.$message.error(e.data.message)},function(){alert("error")}):t.$http.post("api/reg",t.regForm).then(function(e){console.log(e),e.data.success?(a.$message.success(e.data.message+"请登录"),a.activeName="first",a.loginForm.username=a.regForm.username,a.loginForm.pwd=a.regForm.pwd):a.$message.error(e.data.message)},function(){alert("error")})})}}},m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-tabs",{staticClass:"box",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"登录",name:"first"}},[o("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{staticClass:"mt30",attrs:{placeholder:"请输入内容"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[o("template",{slot:"prepend"},[o("el-button",{staticClass:"uicon",attrs:{type:"primary",icon:"el-icon-edit"}})],1)],2)],1),e._v(" "),o("el-form-item",{attrs:{prop:"pwd"}},[o("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}},[o("template",{slot:"prepend"},[o("el-button",{staticClass:"uicon",attrs:{type:"primary",icon:"el-icon-edit"}})],1)],2)],1),e._v(" "),o("el-button",{staticClass:"login",attrs:{round:"",type:"primary"},on:{click:function(t){e.submitForm("loginForm")}}},[e._v("登录")]),e._v(" "),o("el-button",{attrs:{type:"mini",icon:"el-icon-service"}},[e._v("QQ登录")])],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"注册",name:"second"}},[o("el-form",{ref:"regForm",attrs:{model:e.regForm,rules:e.rules}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{staticClass:"mt30",attrs:{placeholder:"请输入内容"},model:{value:e.regForm.username,callback:function(t){e.$set(e.regForm,"username",t)},expression:"regForm.username"}},[o("template",{slot:"prepend"},[o("el-button",{staticClass:"uicon",attrs:{type:"primary",icon:"el-icon-edit"}})],1)],2)],1),e._v(" "),o("el-form-item",{attrs:{prop:"pwd"}},[o("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.regForm.pwd,callback:function(t){e.$set(e.regForm,"pwd",t)},expression:"regForm.pwd"}},[o("template",{slot:"prepend"},[o("el-button",{staticClass:"uicon",attrs:{type:"primary",icon:"el-icon-edit"}})],1)],2)],1),e._v(" "),o("el-form-item",{attrs:{prop:"confirmpwd"}},[o("el-input",{attrs:{placeholder:"请再次输入密码"},model:{value:e.regForm.confirmpwd,callback:function(t){e.$set(e.regForm,"confirmpwd",t)},expression:"regForm.confirmpwd"}},[o("template",{slot:"prepend"},[o("el-button",{staticClass:"uicon",attrs:{type:"primary",icon:"el-icon-edit"}})],1)],2)],1),e._v(" "),o("el-button",{staticClass:"login",attrs:{round:"",type:"success"},on:{click:function(t){e.submitForm("regForm")}}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(d,m,!1,function(e){o("oK/c")},"data-v-25fd1746",null).exports,u={name:"Member",data:function(){return{}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleCommand:function(e){"LoginOut"==e&&(this.$store.commit("loginOut"),this.$router.push({path:"/"}))}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",[o("el-header",[o("el-dropdown",{staticClass:"fr mt10",attrs:{"split-button":"",type:"primary"},on:{command:e.handleCommand}},[e._v("\r\n\t  "+e._s(e.$store.state.userdata[0].UserName)+"\r\n\t  "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"LoginOut"}},[e._v(e._s(e.$store.state.isLogin)+"退出")]),e._v(" "),o("el-dropdown-item",[e._v("修改密码")])],1)],1)],1),e._v(" "),o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-1"},on:{open:e.handleOpen,close:e.handleClose}},[o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),e._v(" "),o("span",[e._v("导航一")])]),e._v(" "),o("router-link",{attrs:{to:"/Member/User"}},[o("el-menu-item",{attrs:{index:"1-1"}},[e._v("选项1")])],1),e._v(" "),o("router-link",{attrs:{to:"/Member/Visitor"}},[o("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")])],1),e._v(" "),o("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")]),e._v(" "),o("el-submenu",{attrs:{index:"1-4"}},[o("template",{slot:"title"},[e._v("选项4")]),e._v(" "),o("el-menu-item",{attrs:{index:"1-4-1"}},[e._v("选项1")])],2)],2),e._v(" "),o("el-menu-item",{attrs:{index:"2"}},[o("i",{staticClass:"el-icon-menu"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航二")])]),e._v(" "),o("el-menu-item",{attrs:{index:"3"}},[o("i",{staticClass:"el-icon-document"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航三")])]),e._v(" "),o("el-menu-item",{attrs:{index:"4"}},[o("i",{staticClass:"el-icon-setting"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航四")])])],1)],1),e._v(" "),o("el-main",[o("transition",{attrs:{name:"slide-left"}},[o("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(u,p,!1,function(e){o("9e+h")},null,null).exports,h=o("mvHQ"),v=o.n(h),b={name:"User",data:function(){return{dialogFormVisible:!1,dialogAddForm:!1,formLabelWidth:"50px",multipleSelection:[],tableData3:[{id:1,date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄",other:"上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄"},{id:2,date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",other:"上海市普陀区金沙江路 1518 弄"}],form:{id:"",name:"",date:"",address:"",other:""},currentEditID:"",AddForm:{id:"",name:"",date:"",address:"",other:""}}},methods:{handleEdit:function(e,t){this.dialogFormVisible=!0,this.form=JSON.parse(v()(t)),this.currentEditID=e},handleDelete:function(e,t){var o=this;this.$confirm("确认将"+t.name+"删除？","提示").then(function(){o.tableData3.splice(e,1)}).catch(function(){})},editCommit:function(){this.$set(this.tableData3,this.currentEditID,this.form),this.dialogFormVisible=!1},add:function(){this.AddForm.address="",this.AddForm.other="",this.AddForm.name="",this.AddForm.date=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),this.dialogAddForm=!0},AddFormCommit:function(){this.tableData3.push(JSON.parse(v()(this.AddForm))),this.dialogAddForm=!1},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},allDelete:function(){if(""==this.multipleSelection)return this.$message("请先勾选"),!1;for(var e=0;e<this.multipleSelection.length;e++){var t=this.tableData3.indexOf(this.multipleSelection[e]);this.tableData3.splice(t,1)}}}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:e.add}},[e._v("添加")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:e.allDelete}},[e._v("删除选中")]),e._v(" "),o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),o("el-table-column",{attrs:{label:"日期",width:"120",prop:"date"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{width:"380",prop:"address",label:"地址","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{width:"220",prop:"other",label:"备注","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"edit",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{model:e.form,title:e.form.name,visible:e.dialogFormVisible}},[o("el-form",[o("el-form-item",{attrs:{label:"日期","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.form.other,callback:function(t){e.$set(e.form,"other",t)},expression:"form.other"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.editCommit}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{model:e.AddForm,title:"添加用户",visible:e.dialogAddForm}},[o("el-form",[o("el-form-item",{attrs:{label:"日期","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:e.AddForm.date,callback:function(t){e.$set(e.AddForm,"date",t)},expression:"AddForm.date"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.AddForm.name,callback:function(t){e.$set(e.AddForm,"name",t)},expression:"AddForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.AddForm.address,callback:function(t){e.$set(e.AddForm,"address",t)},expression:"AddForm.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.AddForm.other,callback:function(t){e.$set(e.AddForm,"other",t)},expression:"AddForm.other"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogAddForm=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.AddFormCommit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var _=o("VU/8")(b,g,!1,function(e){o("SN/u")},null,null).exports,F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark"},on:{"selection-change":function(e){}}},[o("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),o("el-table-column",{attrs:{label:"日期",width:"120",prop:"date"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{width:"380",prop:"address",label:"地址","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{width:"220",prop:"other",label:"备注","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"edit",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)},staticRenderFns:[]};var w=o("VU/8")({name:"Visitor",data:function(){return{tableData3:[{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄",other:"上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",other:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",other:"上海市普陀区金沙江路 1518 弄"}]}}},F,!1,function(e){o("Sd6i")},null,null).exports;a.default.use(s.a);var x=new s.a({routes:[{path:"/",name:"Login",component:c},{path:"/Member",component:f,children:[{path:"User",component:_},{path:"Visitor",component:w}]}]});x.beforeEach(function(e,t,o){"Login"===e.name&&o(),console.log(x.app.$options.store),1==x.app.$options.store.state.isLogin&&o()});var $=x,y=o("NYxO");a.default.use(y.a);var k=new y.a.Store({state:{isLogin:0,userdata:""},mutations:{loginOut:function(e){e.isLogin=0,e.userdata=""},login:function(e,t){e.isLogin=1,e.userdata=t}}}),C=o("mtWM"),A=o.n(C);a.default.prototype.$http=A.a,a.default.use(l.a),a.default.config.productionTip=!1,new a.default({el:"#app",store:k,router:$,components:{App:i},template:"<App/>"})},"SN/u":function(e,t){},Sd6i:function(e,t){},ZsCP:function(e,t){},cLqF:function(e,t){},"oK/c":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7a77be993b0083ab0372.js.map